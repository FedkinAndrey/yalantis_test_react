(this.webpackJsonpyalantis_test_react=this.webpackJsonpyalantis_test_react||[]).push([[0],{58:function(e,t,r){},59:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"fetchEmployees",(function(){return E}));var s={};r.r(s),r.d(s,"addUsers",(function(){return S})),r.d(s,"removeUsers",(function(){return y}));var a,c=r(0),i=r.n(c),u=r(10),o=r.n(u),l=r(27),d=r(5),j=r(4),f=r(3),h=r(6),p=r.n(h),b=r(12),O=r(25),v=r.n(O);!function(e){e.FETCH_USERS="FETCH_USERS",e.FETCH_USERS_SUCCESS="FETCH_USERS_SUCCESS",e.FETCH_USERS_ERROR="FETCH_USERS_ERROR"}(a||(a={}));var m,E=function(){return function(){var e=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:a.FETCH_USERS}),e.next=4,v.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 4:r=e.sent,setTimeout((function(){t({type:a.FETCH_USERS_SUCCESS,payload:r.data})}),500),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:a.FETCH_USERS_ERROR,payload:"ERROR"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};!function(e){e.ADD_USER="ADD_USER",e.REMOVE_USER="REMOVE_USER"}(m||(m={}));var S=function(e){return function(t){t({type:m.ADD_USER,payload:e})}},y=function(e){return function(t){t({type:m.REMOVE_USER,payload:e})}},R=Object(f.a)(Object(f.a)({},n),s),x=function(){var e=Object(d.b)();return Object(j.b)(R,e)},_=r(1),U=function(e){var t=e.user,r=e.activeUsers,n=Object(c.useState)("false"),s=Object(l.a)(n,2),a=s[0],i=s[1];Object(c.useEffect)((function(){var e,n;e=r,n=t.id,e.includes(n)?i("true"):i("false")}),[r]);var u=x().addUsers,o=x().removeUsers,d=function(e){i(e.target.value),"false"===e.target.value?o(t):u(t)};return Object(_.jsxs)("div",{className:"userItem",children:[Object(_.jsx)("div",{className:"true"===a?"name active":"name",children:Object(_.jsxs)("span",{children:[t.firstName," ",t.lastName]})}),Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:Object(_.jsxs)("label",{children:[Object(_.jsx)("input",{type:"radio",value:"false",checked:"false"===a,onChange:d}),"not active"]})}),Object(_.jsx)("div",{children:Object(_.jsxs)("label",{children:[Object(_.jsx)("input",{type:"radio",value:"true",checked:"true"===a,onChange:d}),"active"]})})]})]})},g=function(e){var t=e.letter,r=e.employees,n=e.activeUsers,s=function(e,t){return t.filter((function(t){return t.lastName.startsWith(e)})).sort((function(e,t){return e.firstName.localeCompare(t.firstName)}))}(t,r);return Object(_.jsxs)("div",{className:"container",children:[Object(_.jsx)("h3",{children:t}),0!==s.length?s.map((function(e){return Object(_.jsx)(U,{user:e,activeUsers:n},e.id)})):Object(_.jsx)("div",{className:"userItem",children:"No Employees"})]})},N=d.c,C=function(e){var t=e.month,r=e.user,n=new Date(r.dob);return Object(_.jsxs)("div",{children:[r.firstName," ",r.lastName," - ",n.getDate()," ",t,", ",n.getFullYear()," year"]})},F=function(e){var t=e.month,r=function(e,t){return t.filter((function(t){return new Date(t.dob).getMonth()===e})).sort((function(e,t){return e.lastName.localeCompare(t.lastName)}))}(e.monthId,e.employees);return Object(_.jsxs)("div",{className:"container",children:[Object(_.jsx)("h3",{children:t}),Object(_.jsx)("ul",{children:0!==r.length?r.map((function(e){return Object(_.jsx)("li",{children:Object(_.jsx)(C,{user:e,month:t})},e.id)})):"No Employees"})]})},D=i.a.memo((function(){var e=x().fetchEmployees,t=N((function(e){return e.user})).users,r=N((function(e){return e.list})).usersList,n=function(e,t){return t.slice(e.getMonth()).concat(t.slice(0,e.getMonth()))}(new Date,["January","February","March","April","May","June","July","August","September","October","November","December"]);Object(c.useEffect)((function(){e()}),[]);var s=r.map((function(e){return e.id}));return Object(_.jsxs)("div",{className:"wrapper",children:[Object(_.jsxs)("div",{className:"left",children:[Object(_.jsx)("h2",{children:"Employees"}),Object(_.jsx)("div",{className:"left__container",children:0!==t.length?["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map((function(e,r){return Object(_.jsx)(g,{letter:e,employees:t,activeUsers:s},r)})):"Empty"})]}),Object(_.jsxs)("div",{className:"right",children:[Object(_.jsx)("h2",{children:"Employees birthday"}),Object(_.jsx)("div",{className:"right__container",children:0!==r.length?n.map((function(e,t){return Object(_.jsx)(F,{month:e,monthId:t,employees:r},t)})):"Employees List is empty"})]})]})}));r(58);var L=function(){return Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(D,{})})},T=r(26),H={users:[],loading:!1,error:null},w=r(15),M={usersList:[]},k=Object(j.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.FETCH_USERS:return{loading:!0,error:null,users:[]};case a.FETCH_USERS_SUCCESS:return{loading:!0,error:null,users:t.payload};case a.FETCH_USERS_ERROR:return{loading:!0,error:t.payload,users:[]};default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.ADD_USER:var r=Object(f.a)({},e);r.usersList=Object(w.a)(e.usersList);var n=e.usersList.find((function(e){return e.id===t.payload.id}));return void 0===n?(t.payload.active=!0,r.usersList.push(t.payload),Object(f.a)(Object(f.a)({},r),{},{usersList:r.usersList})):e;case m.REMOVE_USER:t.payload.active=!1;var s=Object(f.a)({},e);s.usersList=Object(w.a)(e.usersList);var a=s.usersList.filter((function(e){return e.id!==t.payload.id}));return Object(f.a)(Object(f.a)({},e),{},{usersList:a});default:return e}}}),A="redux";function I(){return(I=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=JSON.stringify(t),localStorage.setItem(A,r)}catch(n){}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(){try{var e=localStorage.getItem(A);if(!e)return;return JSON.parse(e)}catch(t){return}}(),V=Object(j.d)(k,J,Object(j.a)(T.a));V.subscribe((function(){!function(e){I.apply(this,arguments)}(V.getState())})),o.a.render(Object(_.jsx)(d.a,{store:V,children:Object(_.jsx)(L,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.d5427b20.chunk.js.map